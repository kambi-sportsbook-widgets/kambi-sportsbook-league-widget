!function(){"use strict";var e=Stapes.subclass({constructor:function(e){this.scope={args:{updatedTime:"08:00 GMT",headerDefaultTitle:"Premier League 2015/2016"},leagueTableRows:[]},this.getColumnLabels(),CoreLibrary.init().then(function(e){Object.keys(e).forEach(function(a){this.scope.args[a]=e[a]}.bind(this)),CoreLibrary.widgetModule.enableWidgetTransition(!0),null==CoreLibrary.config.offering&&(CoreLibrary.config.offering="ub"),CoreLibrary.widgetModule.setWidgetHeight(450),CoreLibrary.pageInfo.pageParam="football/england/premier_league/",CoreLibrary.statisticsModule.getStatistics("leaguetable",CoreLibrary.pageInfo.pageParam).then(function(e){var a=[];e.leagueTableRows.forEach(function(e){e.goalsDifference=e.goalsFor-e.goalsAgainst,a.push(e)}.bind(this)),this.scope.leagueTableRows=a;var t=45,i=this.scope.leagueTableRows.length*t;CoreLibrary.widgetModule.setWidgetHeight(i)}.bind(this))}.bind(this))["catch"](function(e){}),this.view=rivets.bind(document.getElementById("main"),this.scope),this.view.binders["column-header-title"]=function(e,a){"Pos"!==a.value&&"participantName"!==a.value&&e.setAttribute("title",CoreLibrary.translationModule.i18nStrings[a.key])},this.view.formatters.tableCell=function(e,a){return null!=e?e[a.key]:void 0}.bind(this)},getColumnLabels:function(){this.scope.columnLabels=[{key:"position",value:"Pos"},{key:"participantName",value:"Club"},{key:"gamesPlayed",value:"P"},{key:"wins",value:"W"},{key:"draws",value:"D"},{key:"losses",value:"L"},{key:"goalsFor",value:"Gf"},{key:"goalsAgainst",value:"Ga"},{key:"goalsDifference",value:"+/-"},{key:"points",value:"Pts"}]}});new e}(),function(){"use strict";function e(a,t,i,l,s){angular.extend(e,l("widgetCoreController",{$scope:a})),a.leagueTableRows=[],a.columnLabels={},a.defaultHeight=450,a.calculatedHeight=0,a.rowHeight=45,a.defaultArgs={updatedTime:"08:00 GMT",style:"",headerDefaultTitle:"Premier League 2015/2016"},a.getColumnLabels=function(){a.columnLabels=[{key:"position",value:"Pos"},{key:"participantName",value:"Club"},{key:"gamesPlayed",value:"P"},{key:"wins",value:"W"},{key:"draws",value:"D"},{key:"losses",value:"L"},{key:"goalsFor",value:"Gf"},{key:"goalsAgainst",value:"Ga"},{key:"goalsDifference",value:"+/-"},{key:"points",value:"Pts"}]},a.getLeagueItems=function(e){a.getColumnLabels(),s.getStatistics(e,a.filter).then(function(e){if(e.data&&e.data.statistics){for(var t=0,i=e.data.statistics.length;i>t;++t){var l=e.data.statistics[t];if(l&&l.leagueTable){a.leagueTableRows=l.leagueTable.leagueTableRows;for(var s=0;s<a.leagueTableRows.length;++s){var o=a.leagueTableRows[s];o.goalsDifference=o.goalsFor-o.goalsAgainst}a.calculatedHeight=a.leagueTableRows.length*a.rowHeight}}a.setWidgetHeight(a.calculatedHeight)}},function(e){})},a.init().then(function(){a.filter=a.pageInfo.pageParam,a.getLeagueItems("leaguetable")})}!function(a){return a.controller("appController",["$scope","kambiWidgetService","kambiAPIService","$controller","kambiStatisticsService",e])}(angular.module("leagueWidget"))}.call(this);